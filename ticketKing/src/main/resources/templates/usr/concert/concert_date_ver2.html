<html th:lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{usr/layout/layout.html}" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="UTF-8">
    <title>공연예매 페이지 1. 관람일/회차 선택</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

<main layout:fragment="main" class="flex flex-col items-center mt-10 w-full min-h-screen">

    <!-- 예매창 네비바 -->
    <nav class=" font-bold text-xs text-white mt-2">
        <ul class="flex justify-center items-center" style="width: 1070px; height: 60px">
            <li class="flex justify-center items-center px-5 py-2 border-r bg-[#9a6cfd] mt-0 px-0" style="width: inherit; height: inherit;">01.관람일/회차선택</li>
            <li class="flex justify-center items-center px-5 py-2 border-r bg-[#c0a8f6] mx-0 px-0" style="width: inherit; height: inherit;">02.좌석선택</li>
            <li class="flex justify-center items-center px-5 py-2 border-r bg-[#c0a8f6] mx-0 px-0" style="width: inherit; height: inherit;">03.가격/할인선택</li>
            <li class="flex justify-center items-center px-5 py-2 border-r bg-[#c0a8f6] mx-0 px-0" style="width: inherit; height: inherit;">04.배송선택/주문자확인</li>
            <li class="flex justify-center items-center px-5 py-2 bg-[#c0a8f6] mx-0 px-0" style="width: inherit; height: inherit;">05.결제하기</li>
        </ul>
    </nav>

    <div class="flex flex-col bg-[#F2F4F4] rounded-bl-lg rounded-br-lg w-[1070px] h-[550px]">

        <div class="flex flex-col justify-start mx-12 mb-50">
            <div class="flex justify-center w-full mt-10">

                <div class="flex mt-5">
                    <div class="absolute -top-[-520px] -right-[-470px] rounded-lg white-square">
                        <div class="p-6 text-left">
                            <p class="text-black text-left mb-2">유의사항</p>
                            <hr class="h-0.5 border-t-0 bg-neutral-100 opacity-100 dark:opacity-50" />
                            <p class="text-black text-xs mt-3">- 장애인, 국가유공자의 경우 현장수령만 가능하며, 복지카드 미지참시 할인혜택을 받으실 수 없습니다.</p>
                            <p class="text-black text-xs mt-1">- 할인쿠폰을 사용하여 예매한 티켓은 부분취소가 불가합니다.</p>
                            <p class="text-black text-xs mt-1">- 관람일 전일 취소수수료와 취소가능일자는 상품별로 다르니, 예매정보를 확인해주시길 바랍니다.</p>
                            <p class="text-black text-xs mt-1">- 관람일 전일 취소수수료와 취소가능일자는 상품별로 다르니, 예매정보를 확인해주시길 바랍니다.</p>
                            <p class="text-black text-xs mt-1">- 관람일 전일 취소수수료와 취소가능일자는 상품별로 다르니, 예매정보를 확인해주시길 바랍니다.</p>
                        </div>
                    </div>
                </div>


                <div class="flex">

                    <!-- 관람일 선택 -->
                    <div class="flex justify-center">
                        <div class="p-4">
                            <p class="mb-2 text-base text-neutral-600 dark:text-neutral-200">선택한 관람일 : <span class="selected-date"></span></p>
                            <script>
                                document.addEventListener('DOMContentLoaded', function() {
                                    var selectedStartDate = localStorage.getItem('selectedStartDate');
                                    if (selectedStartDate) {
                                        var selectedDateElements = document.getElementsByClassName('selected-date');
                                        for (var i = 0; i < selectedDateElements.length; i++) {
                                            selectedDateElements[i].textContent = selectedStartDate;
                                        }
                                    }
                                });
                            </script>

<!--                            <p class="mb-2 text-base text-neutral-600 dark:text-neutral-200">관람일 선택</p>-->
<!--                            <style>-->
<!--                                .custom-input {-->
<!--                                    -webkit-appearance: none;-->
<!--                                    -moz-appearance: none;-->
<!--                                    appearance: none;-->
<!--                                    padding: 0.32rem 1rem;-->
<!--                                    background-color: #ffffff;-->
<!--                                    color: #9B6DFF;-->
<!--                                    border-color: #9B6DFF;-->
<!--                                    background-image: none;-->
<!--                                }-->
<!--                            </style>-->
<!--                            <div class="flex-col">-->
<!--                                <label for="startDateInput" class="sr-only">관람일 선택</label>-->
<!--                                <input type="date" name="startDate" class="text-gray-300 select select mb-0.5 custom-input" id="startDateInput" style="width: 200px;" />-->
<!--                            </div>-->
<!--                            <script>-->
<!--                                var startDateInput = document.getElementById('startDateInput');-->
<!--                                startDateInput.addEventListener('change', function() {-->
<!--                                    if (startDateInput.value === '') {-->
<!--                                        startDateInput.type = 'text';-->
<!--                                        startDateInput.value = '관람일';-->
<!--                                    }-->
<!--                                });-->
<!--                            </script>-->
                        </div>
                    </div>

                    <div class="mx-4"></div>

                    <div class="inline-block h-[250px] min-h-[1em] w-0.5 self-stretch bg-neutral-200 opacity-100 dark:opacity-50"></div>

                    <div class="mx-2"></div>

                    <!--회차정보-->
                    <div class="p-4">
                        <p class="mb-2 text-base text-neutral-600 dark:text-neutral-200">회차 정보</p>
                        <button class="rounded bg-[#9B6DFF] px-2 py-2 text-white text-sm hover:bg-[#664AFF] active:bg-blue-800">1회차 : 18시 30분 </button>
                    </div>


                    <div class="mx-8"></div>

                    <!--좌석 등급 / 잔여석-->
                    <div class="max-w-[300px]">
                        <div class="block rounded-lg bg-white text-center border-red-500">
                            <div class="border-b-2 border-neutral-100 px-4 py-2 text-m dark:border-neutral-600 dark:text-neutral-50">좌석 등급 / 잔여석</div>
                            <div class="p-4">
                                <div class="flex flex-col justify-center mx-auto">
                                    <div class="sm:-mx-6 lg:-mx-8">
                                        <div class="inline-block min-w-full py-1 sm:px-4 lg:px-6 text-center">
                                            <div class="overflow-hidden">
                                                <table class="w-full text-center text-xxs sm:text-sm font-light">
                                                    <tbody>
                                                    <tr>
                                                        <td class="whitespace-nowrap px-4 py-2 flex items-center">
                                                            <div class="w-3 h-3 mr-1" style="background-color: #B1B2FF;"></div>
                                                            VIP석
                                                        </td>
                                                        <td class="whitespace-nowrap px-4 py-2">250,000</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="whitespace-nowrap px-4 py-2 flex items-center">
                                                            <div class="w-3 h-3 mr-1" style="background-color: #D2DAFF;"></div>
                                                            R석
                                                        </td>
                                                        <td class="whitespace-nowrap px-4 py-2">220,000</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="whitespace-nowrap px-4 py-2 flex items-center">
                                                            <div class="w-3 h-3 mr-1" style="background-color: #AAC4FF;"></div>
                                                            R석
                                                        </td>
                                                        <td class="whitespace-nowrap px-4 py-2">198,000</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="whitespace-nowrap px-4 py-2 flex items-center">
                                                            <div class="w-3 h-3 mr-1" style="background-color: #AFBDCA;"></div>
                                                            A석
                                                        </td>
                                                        <td class="whitespace-nowrap px-4 py-2">165,000</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="whitespace-nowrap px-4 py-2 flex items-center">
                                                            <div class="w-3 h-3 mr-1" style="background-color: #7795B2;"></div>
                                                            A석
                                                        </td>
                                                        <td class="whitespace-nowrap px-4 py-2">132,000</td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mx-8"></div>


                    <!-- 정보 페이지 -->
                    <div class="card mb-3" style="max-width: 540px;">
                        <div class="row g-0">
                            <div class="col-md-4">

                                <div class="max-w-[300px]">
                                    <div class="block rounded-lg bg-white text-center border-red-500 mt-1">
                                        <div class="flex justify-center">
                                            <img src="https://newsimg.hankookilbo.com/2017/11/08/201711081172845620_1.jpg"
                                                 class="h-auto max-w-xxxs max-h-60 rounded-lg mt-2 mr-30 shadow-none transition-shadow duration-300 ease-in-out hover:shadow-lg hover:shadow-black/30" alt="" />
                                        </div>

                                        <div class="py-2">

                                            <table class="min-w-full text-sm font-light">
                                                <tbody>
                                                <tr>
                                                    <td class="whitespace-nowrap px-4 py-1 font-medium" style="font-size: 12px;">관람일시</td>
                                                    <td class="whitespace-nowrap px-4 py-1" style="font-size: 12px;"><span class="selected-date"></span></td>
                                                </tr>

                                                <tr>
                                                    <td class="whitespace-nowrap px-4 py-1 font-medium" style="font-size: 12px;">선택 좌석</td>
                                                    <td class="whitespace-nowrap px-4 py-1" style="font-size: 12px;"></td>
                                                </tr>
                                                <tr>
                                                    <td class="whitespace-nowrap px-4 py-1 font-medium" style="font-size: 12px;">티켓 금액</td>

                                                </tr>
                                                <tr>
                                                    <td class="whitespace-nowrap px-4 py-1 font-medium" style="font-size: 12px;">할인 금액</td>

                                                </tr>
                                                <tr>
                                                    <td class="whitespace-nowrap px-4 py-1 font-medium" style="font-size: 12px;">수수료</td>

                                                </tr>
                                                </tbody>
                                            </table>
                                            <hr class="h-0.5 border-t-0 bg-neutral-100 opacity-100 dark:opacity-50" />
                                            <div class="mt-1 flex justify-center">
                                                <p class="text-lg font-bold" style="color:#DC143C; font-size: 13px;">총 결제금액: 122,000원</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-3 flex justify-between">
                                    <button type="submit" class="custom-button rounded-lg border-none py-2"
                                            style="background-color: #ffffff; color: #664AFF; width: 50%; font-size: 80%" onclick="window.location.href='/usr/' + env + '/concert/' + hallValue"> &lt; 이전 단계</button>
                                    <div class="w-1/12"></div>
                                    <button type="submit" class="custom-button rounded-lg border-none py-2"
                                            style="background-color: #664AFF; color: #ffffff; width: 50%; font-size: 80%" onclick="window.location.href='/usr/' + env + '/concert/' + hallValue + '/' + selectedLevel + '/stage'">다음 단계 &gt;</button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <style>
        .white-square {
            width: 710px;
            height: 181px;
            background-color: white;
        }
    </style>



</main>

</body>

</html>
<script th:inline="javascript">
  var hallValue = [[${hallValue}]];
  var selectedLevel = [[${selectedLevel}]];
   var env = [[${env}]];
</script>