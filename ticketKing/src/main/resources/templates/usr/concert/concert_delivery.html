<html th:lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{usr/layout/layout.html}" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="UTF-8">
    <title>공연예매 페이지 4. 배송선택/주문자 확인</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var selectedStartDate = localStorage.getItem('selectedStartDate');
            if (selectedStartDate) {
                var selectedDateElements = document.getElementsByClassName('selected-date');
                for (var i = 0; i < selectedDateElements.length; i++) {
                    selectedDateElements[i].textContent = selectedStartDate;
                }
            }
        });
    </script>

    <script th:inline="javascript">
        var hallValue = [[${hallValue}]];
        var selectedLevel = [[${selectedLevel}]];
    </script>
</head>

<body>

<main layout:fragment="main" class="flex flex-col items-center mt-10 w-full min-h-screen">

    <!-- 예매창 네비바 -->
    <nav class=" font-bold text-xs text-white mt-2">
        <ul class="flex justify-center items-center" style="width: 1070px; height: 60px">
            <li class="flex justify-center items-center px-5 py-2 border-r bg-[#c0a8f6] mt-0 px-0" style="width: inherit; height: inherit;">01.관람일/회차선택</li>
            <li class="flex justify-center items-center px-5 py-2 border-r bg-[#c0a8f6] mx-0 px-0" style="width: inherit; height: inherit;">02.좌석선택</li>
            <li class="flex justify-center items-center px-5 py-2 border-r bg-[#c0a8f6] mx-0 px-0" style="width: inherit; height: inherit;">03.가격/할인선택</li>
            <li class="flex justify-center items-center px-5 py-2 border-r bg-[#9a6cfd] mx-0 px-0" style="width: inherit; height: inherit;">04.배송선택/주문자확인</li>
            <li class="flex justify-center items-center px-5 py-2 bg-[#c0a8f6] mx-0 px-0" style="width: inherit; height: inherit;">05.결제하기</li>
        </ul>
    </nav>

    <div class="flex flex-col bg-[#F2F4F4] rounded-bl-lg rounded-br-lg w-[1070px] h-[550px]">

        <div class="flex justify-center w-full min-h-screen mt-10">
            <div class="flex">

                <!--배송 선택 -->
                <div class="p-4">
                    <p class="flex flex-col mb-2 text-base text-neutral-600 dark:text-neutral-200">배송 선택</p>

                    <div class="flex flex-col">
                        <style>
                            select[name="startTime"], select[name="level"] {
                                -webkit-appearance: none;
                                -moz-appearance: none;
                                appearance: none;
                                padding: 0.2rem 2rem 0.2rem 1rem;
                                background-color: #ffffff;
                                color: #9B6DFF;
                                border-color: #9B6DFF;
                            }
                        </style>

                        <select id="timeSelect" name="startTime" class="select select w-[180px]">
                            <option class="" selected disabled>배송 방식</option>
                            <option value="5">현장 수령</option>
                            <option value="30">일반 배송(+1,200원)</option>
                            <option value="60">빠른 배송(+3,200원)</option>
                        </select>

                    </div>
                </div>

                <div class="mx-4"></div>

                <div class="inline-block h-[450px] min-h-[1em] w-0.5 self-stretch bg-neutral-200 opacity-100 dark:opacity-50"></div>


                <!--주문자/배송지 -->
                <div class="p-4 ml-8">
                    <!--주문자 확인 -->
                    <p class="flex flex-col mb-2 text-base text-neutral-600 dark:text-neutral-200">주문자 확인</p>
                    <div class="w-[400px]">
                        <table class="table-auto w-full bg-white">
                            <tbody>
                            <tr>
                                <td class="border px-3 py-2 whitespace-nowrap text-xs text-center bg-gray-200">이름</td>
                                <td class="border px-36 py-2 text-xs text-center bg-white">채예은</td>
                            </tr>
                            <tr>
                                <td class="border px-3 py-2 whitespace-nowrap text-xs text-center bg-gray-200">생년월일</td>
                                <td class="border px-36 py-2 text-xs text-center bg-white">00.00.00</td>
                            </tr>
                            <td class="border px-1 py-2 text-xs text-center bg-gray-300" colspan="2">
                                <span style="color: #DC143C;">티켓팅 연습게임을 위한 가상 화면입니다. <br>본인의 실제정보를 입력하지 않아도 상관없습니다.</span>
                            </td>

                            <tr>
                                <td class="border px-3 py-2 text-xs text-center bg-gray-200">연락처</td>
                                <td class="border px-4 py-2 text-xs text-center bg-white">010 - 1234 - 5678</td>
                            </tr>
                            <tr>
                                <td class="border px-3 py-2 text-xs text-center bg-gray-200">이메일</td>
                                <td class="border px-4 py-2 text-xs text-center bg-white">aaaa@naver.com</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <!--배송지 정보 -->
                    <p class="flex flex-col mb-2 mt-10 text-base text-neutral-600 dark:text-neutral-200">배송지 정보</p>
                    <div class="w-[400px]">
                        <table class="table-auto w-full">
                            <tbody>
                            <td class="border px-1 py-2 text-xs text-center bg-gray-300" colspan="2">
                                <span style="color: #DC143C;">티켓팅 연습게임을 위한 가상 화면입니다. <br>본인의 실제정보를 입력하지 않아도 상관없습니다.</span>
                            </td>
                            <tr>
                                <td class="border px-3 py-2 whitespace-nowrap text-xs text-center bg-gray-200">받으시는 분</td>
                                <td class="border px-36 py-2 text-xs text-center bg-white">채예은</td>
                            </tr>
                            <tr>
                                <td class="border px-3 py-2 text-xs text-center bg-gray-200">연락처</td>
                                <td class="border px-4 py-2 text-xs text-center bg-white">010 - 1234 - 5678</td>
                            </tr>
                            <tr>
                                <td class="border px-3 py-2 text-xs text-center bg-gray-200" rowspan="3">주소</td>
                                <td class="border px-1 py-2 text-xs text-center bg-white" rowspan="3">
                                    <span>123-123</span>
                                    <span>티켓시 티켓구</span>
                                    <span>00-00</span>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="mx-8"></div>
                </div>

                <div class="mx-8"></div>

                <!-- 정보 페이지 -->
                <div class="card mb-3" style="max-width: 540px;">
                    <div class="row g-0">
                        <div class="col-md-4">

                            <div class="max-w-[300px]">
                                <div class="block rounded-lg bg-white text-center border-red-500 mt-1">
                                    <div class="flex justify-center">
                                        <img src="https://newsimg.hankookilbo.com/2017/11/08/201711081172845620_1.jpg"
                                             class="h-auto max-w-xxxs max-h-60 rounded-lg mt-2 mr-30 shadow-none transition-shadow duration-300 ease-in-out hover:shadow-lg hover:shadow-black/30" alt="" />
                                    </div>

                                    <div class="py-2">

                                        <table class="min-w-full text-sm font-light">
                                            <tbody>
                                            <tr>
                                                <td class="whitespace-nowrap px-4 py-1 font-medium" style="font-size: 12px;">관람일시</td>
                                                <td class="whitespace-nowrap px-4 py-1" style="font-size: 12px;"><span class="selected-date"></span></td>
                                            </tr>
                                            <tr>
                                                <td class="whitespace-nowrap px-4 py-1 font-medium" style="font-size: 12px;">선택 좌석</td>
                                                <td class="whitespace-nowrap px-4 py-1 font-medium" style="font-size: 12px;">
                                                    <span th:if="${latestPractice != null}" th:text="${latestPractice.selectedSeatInfo}"></span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="whitespace-nowrap px-4 py-1 font-medium" style="font-size: 12px;">티켓 금액</td>
                                                <td class="whitespace-nowrap px-4 py-1" style="font-size: 12px;">121,000원</td>
                                            </tr>
                                            <tr>
                                                <td class="whitespace-nowrap px-4 py-1 font-medium" style="font-size: 12px;">할인 금액</td>
                                                <td class="whitespace-nowrap px-4 py-1" style="font-size: 12px;">0원</td>
                                            </tr>
                                            <tr>
                                                <td class="whitespace-nowrap px-4 py-1 font-medium" style="font-size: 12px;">수수료</td>
                                                <td class="whitespace-nowrap px-4 py-1" style="font-size: 12px;">1,000원</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <hr class="h-0.5 border-t-0 bg-neutral-100 opacity-100 dark:opacity-50" />
                                        <div class="mt-1 flex justify-center">
                                            <p class="text-lg font-bold" style="color:#DC143C; font-size: 13px;">총 결제금액: 122,000원</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-3 flex justify-between">
                                <button type="submit" class="custom-button rounded-lg border-none py-2"
                                        style="background-color: #ffffff; color: #664AFF; width: 50%; font-size: 80%" onclick="window.location.href='/usr/concert/' + hallValue + '/' + selectedLevel + '/cost'"> &lt; 이전 단계</button>
                                <div class="w-1/12"></div>
                                <button type="submit" class="custom-button rounded-lg border-none py-2"
                                        style="background-color: #664AFF; color: #ffffff; width: 50%; font-size: 80%" onclick="window.location.href='/usr/concert/' + hallValue + '/' + selectedLevel + '/payment'">다음 단계 &gt;</button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</main>

</body>

</html>
