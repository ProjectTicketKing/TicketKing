<html th:lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{usr/layout/layout.html}" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="UTF-8">
    <title>공연 정보</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var selectedStartDate = localStorage.getItem('selectedStartDate');
            if (selectedStartDate) {
                var selectedDateElements = document.getElementsByClassName('selected-date');
                for (var i = 0; i < selectedDateElements.length; i++) {
                    selectedDateElements[i].textContent = selectedStartDate;
                }
            }
        });
    </script>

    <script th:inline="javascript">
        var hallValue = [[${hallValue}]];
        var selectedLevel = [[${selectedLevel}]];
    </script>

</head>

<body>

<main layout:fragment="main" class="flex flex-col items-center mt-10 w-full min-h-screen">

    <!-- 예매창 네비바 -->
    <nav class=" font-bold text-xs text-white mt-2">
        <ul class="flex justify-center items-center" style="width: 1070px; height: 60px">
            <li class="flex justify-center items-center px-5 py-2 border-r bg-[#c0a8f6] mt-0 px-0" style="width: inherit; height: inherit;">01.관람일/회차선택</li>
            <li class="flex justify-center items-center px-5 py-2 border-r bg-[#c0a8f6] mx-0 px-0" style="width: inherit; height: inherit;">02.좌석선택</li>
            <li class="flex justify-center items-center px-5 py-2 border-r bg-[#9a6cfd] mx-0 px-0" style="width: inherit; height: inherit;">03.가격/할인선택</li>
            <li class="flex justify-center items-center px-5 py-2 border-r bg-[#c0a8f6] mx-0 px-0" style="width: inherit; height: inherit;">04.배송선택/주문자확인</li>
            <li class="flex justify-center items-center px-5 py-2 bg-[#c0a8f6] mx-0 px-0" style="width: inherit; height: inherit;">05.결제하기</li>
        </ul>
    </nav>

    <div class="flex flex-col bg-[#F2F4F4] rounded-bl-lg rounded-br-lg w-[1070px] h-[550px]">

        <div class="flex flex-col justify-start mx-12 mb-50">
            <div class="flex justify-center mt-10 w-full min-h-screen">
                <div class="flex">
                    <!-- 가격 -->
                    <div class="col-md-4">
                        <p class="flex flex-col mb-2 text-base text-neutral-600 dark:text-neutral-200">가격</p>
                        <div class="flex flex-col mb-6 overflow-hidden" style="background-color: #ffffff; border-radius: 8px;">
                            <div class="overflow-x-auto">
                                <div class="inline-block min-w-full py-2 sm:px-6 lg:px-8">
                                    <div class="overflow-hidden">
                                        <div class="flex flex-col" style="margin-top: 20px; margin-bottom: 20px;">
                                            <div style="color:#DC143C; font-size: 15px;">R석 좌석 1매를 선택하였습니다.</div>
                                            <div class="flex flex-col">
                                                <div class="overflow-x-auto sm:-mx-6 lg:-mx-8">
                                                    <div class="inline-block min-w-full py-2 sm:px-6 lg:px-8">
                                                        <div class="overflow-hidden">

                                                            <table class="table-auto w-full">
                                                                <thead>
                                                                <tr>
                                                                    <th class="border border-t-2 px-6 py-2 whitespace-nowrap text-xs text-center bg-gray-200">항목</th>
                                                                    <th class="border border-t-2 px-20 py-2 text-xs text-center bg-gray-200">유형</th>
                                                                    <th class="border border-t-2 px-4 py-2 text-xs text-center bg-gray-200">금액</th>
                                                                    <th class="border border-t-2 px-6 py-2 text-xs text-center bg-gray-200">수량</th>
                                                                </tr>
                                                                </thead>
                                                                <tbody>
                                                                <tr>
                                                                    <td class="border px-6 py-2 whitespace-nowrap text-xs text-center bg-gray-100">기본가</td>
                                                                    <td class="border px-20 py-2 text-xs text-center">일반</td>
                                                                    <td class="border px-6 py-2 text-xs text-center">45,000원</td>
                                                                    <td class="border px-6 py-2 text-xs text-center">
                                                                        <select data-te-select-init>
                                                                            <option value="1">1매</option>
                                                                            <option value="2">2매</option>
                                                                            <option value="3">3매</option>
                                                                            <option value="3">4매</option>
                                                                        </select>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="border px-6 py-2 whitespace-nowrap text-xs text-center bg-gray-100" rowspan="3">기본할인</td>
                                                                    <td class="border px-20 py-2 text-xs text-center">장애인(1~3급(중증)/동반1인)20%</td>
                                                                    <td class="border px-4 py-2 text-xs text-center">105,600원</td>
                                                                    <td class="border px-6 py-2 text-xs text-center">
                                                                        <select data-te-select-init>
                                                                            <option value="1">1매</option>
                                                                            <option value="2">2매</option>
                                                                            <option value="3">3매</option>
                                                                            <option value="3">4매</option>
                                                                        </select>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="border px-20 py-2 text-xs text-center">장애인(4~6급(경증)/본인만)20%</td>
                                                                    <td class="border px-4 py-2 text-xs text-center">105,600원</td>
                                                                    <td class="border px-6 py-2 text-xs text-center">
                                                                        <select data-te-select-init>
                                                                            <option value="1">1매</option>
                                                                            <option value="2">2매</option>
                                                                            <option value="3">3매</option>
                                                                            <option value="3">4매</option>
                                                                        </select>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="border px-20 py-2 text-xs text-center">국가유공자(본인만)20%</td>
                                                                    <td class="border px-4 py-2 text-xs text-center">105,600원</td>
                                                                    <td class="border px-6 py-2 text-xs text-center">
                                                                        <select data-te-select-init>
                                                                            <option value="1">1매</option>
                                                                            <option value="2">2매</option>
                                                                            <option value="3">3매</option>
                                                                            <option value="3">4매</option>
                                                                        </select>
                                                                    </td>
                                                                </tr>
                                                                </tbody>
                                                            </table>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 쿠폰 할인 -->
                        <div class="col-md-4">
                            <p class="flex flex-col mb-2 text-base text-neutral-600 dark:text-neutral-200">쿠폰 할인</p>
                            <div class="flex flex-col mb-12 overflow-hidden" style="background-color: #ffffff; border-radius: 8px;">
                                <div class="overflow-x-auto">
                                    <div class="inline-block min-w-full py-2 sm:px-6 lg:px-8">
                                        <div class="overflow-hidden">
                                            <div class="flex flex-col" style="margin-top: 20px; margin-bottom: 20px;">
                                                <div class="flex flex-col">
                                                    <div class="overflow-x-auto sm:-mx-6 lg:-mx-8">
                                                        <div class="inline-block min-w-full py-2 sm:px-6 lg:px-8">
                                                            <div class="overflow-hidden">

                                                                <table class="w-full text-center text-sm font-light">
                                                                    <tbody>
                                                                    <tr class="border-b border-t-2 border-gray-900 dark:border-neutral-500">
                                                                        <td class="whitespace-nowrap px-6 py-2 text-xs" style="color:#DC143C;">해당 상품에 사용 가능한 쿠폰이 없습니다.</td>
                                                                    </tr>
                                                                    <tr class="border-b dark:border-neutral-500">
                                                                        <td class="whitespace-nowrap px-6 py-2 text-xs" style="color:#797979;">더 자세한 사항은 공식 홈페이지를 이용해주세요.</td>
                                                                    </tr>
                                                                    <tbody>
                                                                </table>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mx-10"></div>

                    <!-- 정보 페이지 -->
                    <div class="card mb-3" style="max-width: 540px;">
                        <div class="row g-0">
                            <div class="col-md-4">

                                <div class="max-w-[300px]">
                                    <div class="block rounded-lg bg-white text-center border-red-500 mt-1">
                                        <div class="flex justify-center">
                                            <img src="https://newsimg.hankookilbo.com/2017/11/08/201711081172845620_1.jpg"
                                                 class="h-auto max-w-xxxs max-h-60 rounded-lg mt-2 mr-30 shadow-none transition-shadow duration-300 ease-in-out hover:shadow-lg hover:shadow-black/30" alt="" />
                                        </div>

                                        <div class="py-2">

                                            <table class="min-w-full text-sm font-light">
                                                <tbody>
                                                <tr>
                                                    <td class="whitespace-nowrap px-4 py-1 font-medium" style="font-size: 12px;">관람일시</td>
                                                    <td class="whitespace-nowrap px-4 py-1" style="font-size: 12px;"><span class="selected-date"></span></td>
                                                </tr>
                                                <tr>
                                                    <td class="whitespace-nowrap px-4 py-1 font-medium" style="font-size: 12px;">선택 좌석</td>
                                                    <td class="whitespace-nowrap px-4 py-1 font-medium" style="font-size: 12px;">
                                                        <span th:if="${latestPractice != null}" th:text="${latestPractice.selectedSeatInfo}"></span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="whitespace-nowrap px-4 py-1 font-medium" style="font-size: 12px;">티켓 금액</td>
                                                    <td class="whitespace-nowrap px-4 py-1" style="font-size: 12px;">121,000원</td>
                                                </tr>
                                                <tr>
                                                    <td class="whitespace-nowrap px-4 py-1 font-medium" style="font-size: 12px;">할인 금액</td>
                                                    <td class="whitespace-nowrap px-4 py-1" style="font-size: 12px;">0원</td>
                                                </tr>
                                                <tr>
                                                    <td class="whitespace-nowrap px-4 py-1 font-medium" style="font-size: 12px;">수수료</td>
                                                    <td class="whitespace-nowrap px-4 py-1" style="font-size: 12px;">1,000원</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                            <hr class="h-0.5 border-t-0 bg-neutral-100 opacity-100 dark:opacity-50" />
                                            <div class="mt-1 flex justify-center">
                                                <p class="text-lg font-bold" style="color:#DC143C; font-size: 13px;">총 결제금액: 122,000원</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-3 flex justify-between">
                                    <button type="submit" class="custom-button rounded-lg border-none py-2"
                                            style="background-color: #ffffff; color: #664AFF; width: 50%; font-size: 80%" onclick="window.location.href='/usr/concert/' + hallValue + '/' + selectedLevel + '/stage'"> &lt; 이전 단계</button>
                                    <div class="w-1/12"></div>
                                    <button type="submit" class="custom-button rounded-lg border-none py-2"
                                            style="background-color: #664AFF; color: #ffffff; width: 50%; font-size: 80%" onclick="window.location.href='/usr/concert/' + hallValue + '/' + selectedLevel + '/delivery'">다음 단계 &gt;</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</main>

<script src="https://cdn.tailwindcss.com"></script>

</body>

</html>


