<html th:lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{usr/layout/layout.html}">

<head>
  <meta charset="UTF-8">
  <title>로그인</title>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@2.51.5/dist/full.css" rel="stylesheet" type="text/css"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/common/validator.js"></script>

  <meta name="_csrf_header" th:content="${_csrf.headerName}">
  <meta name="_csrf" th:content="${_csrf.token}">

  <style>
    .input-group span {
      width: 100px;
    }

    .tab-active {
      backdrop-filter: blur(40px);
      background-color: #0000 !important;
    }

    .card {
      border-top-left-radius: 0;
      border-top-right-radius: 0;
    }

    .card form {
      height: 220px;
    }

    button:disabled {
      cursor: default !important;
    }
  </style>

</head>

<body>

<main layout:fragment="main" class="flex flex-col justify-center items-center flex-grow">

  <script>
    $(document).ready(function () {
      $(".tab").click(function () {
        $(".tab-active").removeClass("tab-active");
        $(this).addClass("tab-active");

        const tabIndex = $(this).data("tab");

        $(".card:not(.hidden)").addClass("hidden");
        $(`#tab-${tabIndex}`).removeClass("hidden");
      });
    });
  </script>

  <h1 class="text-3xl font-bold self-center mb-8">아이디 찾기 / 비밀번호 찾기</h1>

  <div class="tabs min-w-[420px]">
    <button class="tab tab-lg tab-lifted tab-active flex-1" data-tab="0">아이디</button>
    <button class="tab tab-lg tab-lifted flex-1" data-tab="1">비밀번호</button>
  </div>

  <div class="card glass" id="tab-0">
    <form method="POST" th:action="|/member/find/username|" id="findUsername"
          onsubmit="FindUsernameForm__submit(this); return false;"
          class="flex flex-col place-content-center gap-1 min-w-[420px] px-12">
      <label class="input-group max-w-sm min-w-sm">
        <span>이메일</span>
        <input class="input input-bordered" type="email" id="findUsernameEmail" name="email"
               placeholder="example@example.com"/>
      </label>
      <button class="mt-3 btn w-[150px] btn-primary self-center">전송</button>
    </form>
  </div>

  <div class="card glass hidden" id="tab-1">
    <form method="POST" th:action="|/member/find/password|" id="findPassword"
          onsubmit="FindPasswordForm__submit(this); return false;"
          class="flex flex-col place-content-center gap-1 min-w-[420px] px-12">
      <label class="input-group max-w-sm min-w-sm">
        <span>이메일</span>
        <input class="input input-bordered" type="email" id="findPasswordEmail" name="email"
               placeholder="example@example.com"/>
      </label>

      <label class="input-group max-w-sm min-w-sm">
        <span>아이디</span>
        <input class="input input-bordered" type="text" id="findPasswordUsername" name="username"
               placeholder="username"/>
      </label>

      <button class="mt-3 btn w-[150px] btn-primary self-center">전송</button>
    </form>
  </div>

</main>

</body>

</html>